(()=>{"use strict";var __webpack_modules__={483:(e,t,n)=>{var r=n(866);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e,t,n,r,i,s,o,a){var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=u):i&&(u=a?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var _=c.render;c.render=function(e,t){return u.call(t),_(e,t)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:e,options:c}}({mixins:[Fieldtype,{inject:{storeName:{default:"base"}},methods:{showField:function(e){return new r.Z(e,this.values,this.$store,this.storeName).passesConditions()}}}],inject:["storeName"],data:function(){return{isOpen:!1}},mounted:function(){console.log("test")},methods:{updated:function(e,t){var n=JSON.parse(JSON.stringify(this.values));n[e]=t,this.update(n)},open:function(){this.isOpen=!0},close:function(){this.isOpen=!1},toggle:function(){this.isOpen?this.close():this.open()}},computed:{state:function(){return this.$store.state.publish[this.storeName]},values:function(){return s(s({},this.meta.defaults),this.value)},errors:function(){return this.state.errors},fields:function(){return this.config.fields}}},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"collapse-group",class:{"collapse-group--open":e.isOpen}},[n("div",{staticClass:"collapse-group__header",on:{click:function(t){return e.toggle()}}},[n("span",{staticClass:"collapse-group__title"},[e._v(e._s(e.config.display))]),e._v(" "),e.config.instructions?n("small",{staticClass:"help-block collapse-group__instructions",domProps:{innerHTML:e._s(e.$options.filters.markdown(e.config.instructions))}}):e._e()]),e._v(" "),n("div",{ref:"collapse_body",staticClass:"collapse-group__body"},[n("publish-fields-container",e._l(e.fields,(function(t){return n("publish-field",{directives:[{name:"show",rawName:"v-show",value:e.showField(t),expression:"showField(field)"}],key:t.handle,attrs:{config:t,value:e.values[t.handle],meta:e.meta[t.handle],errors:e.errors[t.handle],"read-only":e.readOnly,"can-toggle-label":e.canToggleLabels,"name-prefix":e.namePrefix},on:{input:function(n){return e.updated(t.handle,n)},"meta-updated":function(n){return e.$emit("meta-updated",t.handle,n)},synced:function(n){return e.$emit("synced",t.handle)},desynced:function(n){return e.$emit("desynced",t.handle)},focus:function(t){return e.$emit("focus")},blur:function(t){return e.$emit("blur")}}})})),1)],1)])}),[],!1,null,null,null);const u=a.exports;Statamic.booting((function(){Statamic.component("collapse-fieldtype",u)}))},510:(e,t,n)=>{n.d(t,{XW:()=>s,fP:()=>i,tW:()=>r});var r=["if","if_any","show_when","show_when_any","unless","unless_any","hide_when","hide_when_any"],i=["equals","not","contains","contains_any","===","!==",">",">=","<","<=","custom"],s={is:"equals","==":"equals",isnt:"not","!=":"not",includes:"contains",includes_any:"contains_any"}},662:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(510);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,n=[{key:"fromBlueprint",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _.map(e,(function(e,r){return t.splitRhs(r,e,n)}))}},{key:"toBlueprint",value:function(e){var t=this,n={};return _.each(e,(function(e){n[e.field]=t.combineRhs(e)})),n}},{key:"splitRhs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{field:this.getScopedFieldHandle(e,n),operator:this.getOperatorFromRhs(t),value:this.getValueFromRhs(t)}}},{key:"getScopedFieldHandle",value:function(e,t){return e.startsWith("root.")||!t?e:t+e}},{key:"getOperatorFromRhs",value:function(e){var t="==";return _.chain(this.getOperatorsAndAliases()).filter((function(t){return new RegExp("^".concat(t," [^=]")).test(e.toString())})).each((function(e){return t=e})),this.normalizeOperator(t)}},{key:"normalizeOperator",value:function(e){return r.XW[e]?r.XW[e]:e}},{key:"getValueFromRhs",value:function(e){var t=e.toString();return _.chain(this.getOperatorsAndAliases()).filter((function(e){return new RegExp("^".concat(e," [^=]")).test(t)})).each((function(e){return t=t.replace(new RegExp("^".concat(e,"[ ]*")),"")})),t}},{key:"combineRhs",value:function(e){var t=e.operator?e.operator.trim():"",n=e.value.trim();return"".concat(t," ").concat(n).trim()}},{key:"getOperatorsAndAliases",value:function(){return r.fP.concat(Object.keys(r.XW))}}],n&&i(t.prototype,n),s&&i(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}()},866:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_default});var _Converter_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(662),_Constants_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(510);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var NUMBER_SPECIFIC_COMPARISONS=[">",">=","<","<="],_default=function(){function _default(e,t,n,r){_classCallCheck(this,_default),this.field=e,this.values=t,this.rootValues=n.state.publish[r].values,this.store=n,this.storeName=r,this.passOnAny=!1,this.showOnPass=!0,this.converter=new _Converter_js__WEBPACK_IMPORTED_MODULE_0__.Z}return _createClass(_default,[{key:"passesConditions",value:function(){var e=this.getConditions();if(void 0===e)return!0;if(_.isString(e))return this.passesCustomCondition(this.prepareCondition(e));e=this.converter.fromBlueprint(e,this.field.prefix);var t=this.passOnAny?this.passesAnyConditions(e):this.passesAllConditions(e);return this.showOnPass?t:!t}},{key:"getConditions",value:function(){var e=this,t=_.chain(_Constants_js__WEBPACK_IMPORTED_MODULE_1__.tW).filter((function(t){return e.field[t]})).first().value();if(t)return t.includes("any")&&(this.passOnAny=!0),(t.includes("unless")||t.includes("hide_when"))&&(this.showOnPass=!1),this.field[t]}},{key:"passesAllConditions",value:function(e){var t=this;return _.chain(e).map((function(e){return t.prepareCondition(e)})).reject((function(e){return t.passesCondition(e)})).isEmpty().value()}},{key:"passesAnyConditions",value:function(e){var t=this;return!_.chain(e).map((function(e){return t.prepareCondition(e)})).filter((function(e){return t.passesCondition(e)})).isEmpty().value()}},{key:"prepareCondition",value:function(e){if(_.isString(e)||"custom"===e.operator)return this.prepareCustomCondition(e);var t=this.prepareOperator(e.operator);return{lhs:this.prepareLhs(e.field,t),operator:t,rhs:this.prepareRhs(e.value,t)}}},{key:"prepareOperator",value:function(e){switch(e){case null:case"":case"is":case"equals":return"==";case"isnt":case"not":case"¯\\_(ツ)_/¯":return"!=";case"includes":case"contains":return"includes";case"includes_any":case"contains_any":return"includes_any"}return e}},{key:"prepareLhs",value:function(e,t){var n=this.getFieldValue(e);return NUMBER_SPECIFIC_COMPARISONS.includes(t)?Number(n):"includes"!==t||_.isObject(n)?(_.isString(n)&&_.isEmpty(n)&&(n=null),_.isString(n)?JSON.stringify(n.trim()):n):n?n.toString():""}},{key:"prepareRhs",value:function(e,t){switch(e){case"null":return null;case"true":return!0;case"false":return!1}return NUMBER_SPECIFIC_COMPARISONS.includes(t)?Number(e):"empty"===e||"includes"===t||"includes_any"===t?e:_.isString(e)?JSON.stringify(e.trim()):e}},{key:"prepareCustomCondition",value:function(e){return{functionName:this.prepareFunctionName(e.value||e),params:this.prepareParams(e.value||e),target:e.field?this.getFieldValue(e.field):null}}},{key:"prepareFunctionName",value:function(e){return e.replace(new RegExp("^custom "),"").split(":")[0]}},{key:"prepareParams",value:function(e){var t=e.split(":")[1];return t?t.split(",").map((function(e){return e.trim()})):[]}},{key:"getFieldValue",value:function(e){return e.startsWith("root.")?data_get(this.rootValues,e.replace(new RegExp("^root."),"")):data_get(this.values,e)}},{key:"passesCondition",value:function passesCondition(condition){return condition.functionName?this.passesCustomCondition(condition):"includes"===condition.operator?this.passesIncludesCondition(condition):"includes_any"===condition.operator?this.passesIncludesAnyCondition(condition):("empty"===condition.rhs&&(condition.lhs=_.isEmpty(condition.lhs),condition.rhs=!0),!_.isObject(condition.lhs)&&eval("".concat(condition.lhs," ").concat(condition.operator," ").concat(condition.rhs)))}},{key:"passesIncludesCondition",value:function(e){return e.lhs.includes(e.rhs)}},{key:"passesIncludesAnyCondition",value:function(e){var t=e.rhs.split(",").map((function(e){return e.trim()}));return Array.isArray(e.lhs)?_.intersection(e.lhs,t).length:new RegExp(t.join("|")).test(e.lhs)}},{key:"passesCustomCondition",value:function(e){var t=data_get(this.store.state.statamic.conditions,e.functionName);if("function"!=typeof t)return console.error("Statamic field condition [".concat(e.functionName,"] was not properly defined.")),!1;var n=t({params:e.params,target:e.target,values:this.values,root:this.rootValues,store:this.store,storeName:this.storeName});return this.showOnPass?n:!n}}]),_default}()},315:()=>{}},__webpack_module_cache__={},deferred;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,n,r)=>{if(!t){var i=1/0;for(u=0;u<deferred.length;u++){for(var[t,n,r]=deferred[u],s=!0,o=0;o<t.length;o++)(!1&r||i>=r)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[o])))?t.splice(o--,1):(s=!1,r<i&&(i=r));if(s){deferred.splice(u--,1);var a=n();void 0!==a&&(e=a)}}return e}r=r||0;for(var u=deferred.length;u>0&&deferred[u-1][2]>r;u--)deferred[u]=deferred[u-1];deferred[u]=[t,n,r]},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={454:0,835:0};__webpack_require__.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[s,o,a]=n,u=0;if(s.some((t=>0!==e[t]))){for(r in o)__webpack_require__.o(o,r)&&(__webpack_require__.m[r]=o[r]);if(a)var c=a(__webpack_require__)}for(t&&t(n);u<s.length;u++)i=s[u],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(c)},n=self.webpackChunkstatamic_collapse_fieldset=self.webpackChunkstatamic_collapse_fieldset||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__.O(void 0,[835],(()=>__webpack_require__(483)));var __webpack_exports__=__webpack_require__.O(void 0,[835],(()=>__webpack_require__(315)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();